/**
 * Route created in mapbox studio
 * https://studio.mapbox.com/
 */
function staticLoadPlaces() {
    return {
        "features": [
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "c4",
                "rotation": "0,1",
                "index": "5"
              },
              "geometry": {
                "coordinates": [
                  -66.175552,
                  -17.365985
                ],
                "type": "Point"
              },
              "id": "017a9ec5ec969a40ec3744e81af41134"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "c5",
                "rotation": "0,1",
                "index": "6"
              },
              "geometry": {
                "coordinates": [
                  -66.17555,
                  -17.365996
                ],
                "type": "Point"
              },
              "id": "08aec45bdc81099f16ce6e1da60f7ea9"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "door",
                "id": "sf6120",
                "name": "door",
                "multi_door": "0",
                "door": "-66.1755064128252,-17.36589950464358",
                "vertex": "-66.1755064128252,-17.36589950464358",
                "vertex_id": "b7"
              },
              "geometry": {
                "coordinates": [
                  [
                    [
                      -66.175509,
                      -17.365889
                    ],
                    [
                      -66.175494,
                      -17.365893
                    ],
                    [
                      -66.175502,
                      -17.36591
                    ],
                    [
                      -66.175514,
                      -17.365905
                    ],
                    [
                      -66.175509,
                      -17.365889
                    ]
                  ]
                ],
                "type": "Polygon"
              },
              "id": "0a0719ae2403f11b1a91a1a39e46d8bf"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "d1",
                "rotation": "0,1",
                "index": "0"
              },
              "geometry": {
                "coordinates": [
                  -66.175527,
                  -17.366011
                ],
                "type": "Point"
              },
              "id": "0adc2fda11bb541eeefbfb9f9c4d3804"
            },
            {
              "type": "Feature",
              "properties": {},
              "geometry": {
                "coordinates": [
                  -66.175567,
                  -17.365957
                ],
                "type": "Point"
              },
              "id": "0afc74d6135f848874016d74ade77ec8"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "c7",
                "rotation": "0,1",
                "index": "8"
              },
              "geometry": {
                "coordinates": [
                  -66.175538,
                  -17.366009
                ],
                "type": "Point"
              },
              "id": "1936927047f068a36239f021bc45f484"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "b6",
                "rotation": "0,1",
                "index": 5
              },
              "geometry": {
                "coordinates": [
                  -66.175516,
                  -17.36591
                ],
                "type": "Point"
              },
              "id": "1b4db2f178da8f7cbf93109e5ba1c82c"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "a12",
                "rotation": "0,1",
                "index": 12
              },
              "geometry": {
                "coordinates": [
                  -66.17547,
                  -17.365977
                ],
                "type": "Point"
              },
              "id": "1d9e569a45048b1e6032659bebf484e0"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "d7",
                "rotation": "0,1",
                "index": "6"
              },
              "geometry": {
                "coordinates": [
                  -66.175476,
                  -17.365992
                ],
                "type": "Point"
              },
              "id": "1e9e4d8447ef2a403f53851646fd179c"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "b2",
                "rotation": "0,1",
                "index": 1
              },
              "geometry": {
                "coordinates": [
                  -66.175552,
                  -17.365935
                ],
                "type": "Point"
              },
              "id": "23f5ce3834ab235ebcfdf2623ed872b0"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "a7",
                "rotation": "0,1",
                "index": "6"
              },
              "geometry": {
                "coordinates": [
                  -66.175526,
                  -17.365963
                ],
                "type": "Point"
              },
              "id": "27c158972cc0fbe29ff266036025c82d"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "d2",
                "rotation": "0,1",
                "index": "1"
              },
              "geometry": {
                "coordinates": [
                  -66.175518,
                  -17.366008
                ],
                "type": "Point"
              },
              "id": "30fbbc512ebdd0a69de5f77398e5119d"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "d4",
                "rotation": "0,1",
                "index": "3"
              },
              "geometry": {
                "coordinates": [
                  -66.175502,
                  -17.366001
                ],
                "type": "Point"
              },
              "id": "409fe24d020cd389bfc58936408ae9ac"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "c3",
                "rotation": "0,1",
                "index": "2"
              },
              "geometry": {
                "coordinates": [
                  -66.175561,
                  -17.365969
                ],
                "type": "Point"
              },
              "id": "4183067761e8ac5480b6516b64248d1e"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "b3",
                "rotation": "0,1",
                "index": 2
              },
              "geometry": {
                "coordinates": [
                  -66.175541,
                  -17.365929
                ],
                "type": "Point"
              },
              "id": "46d668f0d3f7cedc33b0db882dd1ffaf"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "door",
                "id": "sf6120",
                "name": "door",
                "multi_door": "0",
                "door": "-66.1755064128252,-17.36589950464358",
                "vertex": "-66.1755064128252,-17.36589950464358",
                "vertex_id": "b7"
              },
              "geometry": {
                "coordinates": [
                  [
                    [
                      -66.175545,
                      -17.366014
                    ],
                    [
                      -66.175542,
                      -17.365999
                    ],
                    [
                      -66.175528,
                      -17.366004
                    ],
                    [
                      -66.175532,
                      -17.366018
                    ],
                    [
                      -66.175545,
                      -17.366014
                    ]
                  ]
                ],
                "type": "Polygon"
              },
              "id": "4827d5e41408d07cb551d473ab76cb62"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "a11",
                "rotation": "0,1",
                "index": 12
              },
              "geometry": {
                "coordinates": [
                  -66.175482,
                  -17.365977
                ],
                "type": "Point"
              },
              "id": "4edaf412f2849707d6ca82f4e1013080"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "a5",
                "rotation": "0,1",
                "index": "4"
              },
              "geometry": {
                "coordinates": [
                  -66.175545,
                  -17.365956
                ],
                "type": "Point"
              },
              "id": "4ef4234637ca0b95c7ef95d3d75f11b1"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "d6",
                "rotation": "0,1",
                "index": "5"
              },
              "geometry": {
                "coordinates": [
                  -66.175485,
                  -17.365996
                ],
                "type": "Point"
              },
              "id": "5780739969730dbe27099abb3d1b7eb0"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "c6",
                "rotation": "0,1",
                "index": "7"
              },
              "geometry": {
                "coordinates": [
                  -66.175547,
                  -17.366006
                ],
                "type": "Point"
              },
              "id": "5a43886fceb9bc7a4d63f3d533339f33"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "a8",
                "rotation": "0,1",
                "index": 7
              },
              "geometry": {
                "coordinates": [
                  -66.175516,
                  -17.365968
                ],
                "type": "Point"
              },
              "id": "5a623d682fe757b4085e0341693f0902"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "a10",
                "rotation": "0,1",
                "index": 9
              },
              "geometry": {
                "coordinates": [
                  -66.175492,
                  -17.365974
                ],
                "type": "Point"
              },
              "id": "6990fde01803a4fa5dbb19fa0950b975"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "a1",
                "rotation": "0,1",
                "index": 0
              },
              "geometry": {
                "coordinates": [
                  -66.17557,
                  -17.365947
                ],
                "type": "Point"
              },
              "id": "74ad5c12f3b7209a6ed5f1f165e3d644"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "b4",
                "rotation": "0,1",
                "index": 3
              },
              "geometry": {
                "coordinates": [
                  -66.175531,
                  -17.365922
                ],
                "type": "Point"
              },
              "id": "885d7fb02cb89f7faece46004a0c98f3"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "window",
                "id": "sf619",
                "name": "window",
                "multi_door": "0",
                "door": " -66.17547055288888, -17.36597753442581",
                "vertex": "-66.17547055288888,-17.36597753442581",
                "vertex_id": "a12"
              },
              "geometry": {
                "coordinates": [
                  [
                    [
                      -66.17546,
                      -17.365965
                    ],
                    [
                      -66.17547,
                      -17.365962
                    ],
                    [
                      -66.175479,
                      -17.365987
                    ],
                    [
                      -66.175468,
                      -17.365991
                    ],
                    [
                      -66.17546,
                      -17.365965
                    ]
                  ]
                ],
                "type": "Polygon"
              },
              "id": "a3c489d61a5f2b8eb2f4e66182ee49e9"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "d3",
                "rotation": "0,1",
                "index": "2"
              },
              "geometry": {
                "coordinates": [
                  -66.175509,
                  -17.366005
                ],
                "type": "Point"
              },
              "id": "a4609dd4f71d0ab38b48ef8b7a06798e"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "a2",
                "rotation": "0,1",
                "index": "2"
              },
              "geometry": {
                "coordinates": [
                  -66.175562,
                  -17.365951
                ],
                "type": "Point"
              },
              "id": "aa96a78c692d650bce119ccfa744aa6d"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "b5",
                "rotation": "0,1",
                "index": 4
              },
              "geometry": {
                "coordinates": [
                  -66.175522,
                  -17.365915
                ],
                "type": "Point"
              },
              "id": "aadc71693d59c6d0567ab6d87c903b23"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "c3",
                "rotation": "0,1",
                "index": "4"
              },
              "geometry": {
                "coordinates": [
                  -66.175556,
                  -17.365975
                ],
                "type": "Point"
              },
              "id": "b1c01c7d14c3a90a00ad3a871e23f069"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "a2",
                "rotation": "0,1",
                "index": "3"
              },
              "geometry": {
                "coordinates": [
                  -66.175554,
                  -17.365954
                ],
                "type": "Point"
              },
              "id": "db4921f7b427d627a72b68e1a8397eb8"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "b7",
                "rotation": "0,1",
                "index": 6
              },
              "geometry": {
                "coordinates": [
                  -66.175506,
                  -17.365899
                ],
                "type": "Point"
              },
              "id": "db76ff53b540250f38d361d45d2e6756"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "d5",
                "rotation": "0,1",
                "index": "4"
              },
              "geometry": {
                "coordinates": [
                  -66.175494,
                  -17.365998
                ],
                "type": "Point"
              },
              "id": "dc6b55adfa0d47c994cae4e4716777af"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "a9",
                "rotation": "0,1",
                "index": 8
              },
              "geometry": {
                "coordinates": [
                  -66.175504,
                  -17.36597
                ],
                "type": "Point"
              },
              "id": "de55f1931d4907d4910a005309ef3c36"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "a6",
                "rotation": "0,1",
                "index": "5"
              },
              "geometry": {
                "coordinates": [
                  -66.175535,
                  -17.36596
                ],
                "type": "Point"
              },
              "id": "edb17d4b129a174bdafdf4d640dd0187"
            },
            {
              "type": "Feature",
              "properties": {},
              "geometry": {
                "coordinates": [
                  [
                    [
                      -66.175549,
                      -17.365859
                    ],
                    [
                      -66.175601,
                      -17.366014
                    ],
                    [
                      -66.175483,
                      -17.366048
                    ],
                    [
                      -66.175436,
                      -17.365887
                    ],
                    [
                      -66.175549,
                      -17.365859
                    ]
                  ]
                ],
                "type": "Polygon"
              },
              "id": "f07d0ac6d83923692716f5bf20979b03"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "c2",
                "rotation": "0,1",
                "index": "1"
              },
              "geometry": {
                "coordinates": [
                  -66.175564,
                  -17.365962
                ],
                "type": "Point"
              },
              "id": "f7be34cd8f2388916ae6e07d1f5bfc47"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "door",
                "id": "sf618",
                "name": "door",
                "multi_door": "0",
                "door": "-66.17556991860182,-17.365949871864288",
                "vertex": "-66.17556991860182,-17.365949871864288",
                "vertex_id": "a1"
              },
              "geometry": {
                "coordinates": [
                  [
                    [
                      -66.175573,
                      -17.365935
                    ],
                    [
                      -66.175562,
                      -17.365939
                    ],
                    [
                      -66.175569,
                      -17.365957
                    ],
                    [
                      -66.175581,
                      -17.365953
                    ],
                    [
                      -66.175573,
                      -17.365935
                    ]
                  ]
                ],
                "type": "Polygon"
              },
              "id": "f9b566c74b693d11fcba8273dc3497ac"
            },
            {
              "type": "Feature",
              "properties": {
                "type": "point",
                "id": "b1",
                "rotation": "0,1",
                "index": 0
              },
              "geometry": {
                "coordinates": [
                  -66.17556,
                  -17.36594
                ],
                "type": "Point"
              },
              "id": "fce9e412a75f74ce3b1907cac623b42f"
            }
          ],
          "type": "FeatureCollection"
      };
}

let index = 0;
let routes =['a', 'b', 'c', 'd'];

window.onload = () => {
    const button = document.querySelector('button[data-action="change"]');
    button.innerText = '﹖';

    let places = staticLoadPlaces();
    renderPlaces(places);
};

function renderPlaces(places) {
    let scene = document.querySelector('a-scene');    
    alert('rendereing');
    places.features.forEach((place) => {
        if (place.geometry.type === 'Point'  && place.properties.id) {
            const latitude = place.geometry.coordinates[1];
            const longitude = place.geometry.coordinates[0];
            const location = 'latitude: ' + latitude + ';longitude:' + longitude + ';';
            let gps = document.createAttribute('gps-entity-place');
            gps.value = location;
            const image = document.createElement('a-image');            
            image.setAttributeNode(gps);
            const id = document.createAttribute('id');
            id.value = place.properties.id;        
            image.setAttributeNode(id);
            const name = './assets/map-marker-' + place.properties.id[0] + '.png';
            
            image.setAttribute('src', name);
            image.setAttribute('visible', 'false');
            
            scene.appendChild(image);            
        }        
    });
}
